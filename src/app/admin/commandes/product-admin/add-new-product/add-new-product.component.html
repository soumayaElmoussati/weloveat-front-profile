<ng-container *transloco="let t">
    <section class="">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="row white-background-color border-raduis-15 py-4">

                        <div class="col-12">
                            <ul class="list-inline">
                                <li class="list-inline-item"><a (click)="currentLanguage.setValue('fr')">Fr</a></li>
                                <li class="list-inline-item"><a (click)="currentLanguage.setValue('en')">en</a></li>
                                <li class="list-inline-item"><a (click)="currentLanguage.setValue('nl')">nl</a></li>
                              </ul>
                            <form [formGroup]="productForm" (ngSubmit)="onproductFormSubmit()">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <input type="file" name="" #productImage id="" (change)="onAddProductPicture($event)" class="d-none">
                                        <a (click)="productImage.click()">
                                           <img src="./../../../assets/img/product_pic.svg" class="product_pic" alt="">
                                        </a>
                                        
                                    </div>
                                    <div class="col-sm-3">
                                        <mat-label class="pl-3 mb-1 d-block">Nom</mat-label>
                                        <mat-form-field appearance="outline" class="mb-3">
                                            <input matInput formControlName="name" >
                                        </mat-form-field>
                                        <mat-label class="pl-3 mb-1 d-block">Prix</mat-label>
                                        <mat-form-field appearance="outline" class="mb-3">
                                            <input matInput formControlName="price">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-sm-6">
                                        <mat-label>Description</mat-label>
                                        <mat-form-field>
                                            <textarea matInput formControlName="description" matTextareaAutosize matAutosizeMinRows="7"
                                                matAutosizeMaxRows="5">
                                           </textarea>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <mat-label class="pl-3 mb-1 d-block">Ingrédients <p>Ingrédients Spécifier les
                                                ingrédients permet à vos clients de vous demander d’enlever un
                                                ingrédient qui ne convient pas à leur régime</p>
                                        </mat-label>
                                        <mat-form-field appearance="outline" class="mb-3">
                                            <mat-chip-list #chipListIng>
                                                <mat-chip *ngFor="let item of selectedIngredient;let indx=index;"
                                                    [selectable]="selectable" [removable]="removable"
                                                    (removed)="removeIngredient(item,indx)">
                                                    {{item.name}}
                                                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                                                </mat-chip>
                                                <input #ingredientInput formControlName="ingredientCtrl"
                                                    [matAutocomplete]="autoIng" [matChipInputFor]="chipListIng"
                                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                    [matChipInputAddOnBlur]="addOnBlur"
                                                    (matChipInputTokenEnd)="addIngredient($event)">
                                            </mat-chip-list>
                                            <mat-autocomplete #autoIng="matAutocomplete"
                                                (optionSelected)="selectedIng($event)">
                                                <mat-option *ngFor="let item of filteredIngredients | async"
                                                    [value]="item">
                                                    {{item.name}}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <mat-label class="pl-3 mb-1 d-block">Catégorie</mat-label>
                                        <mat-form-field appearance="outline" class="mb-3">
                                            <mat-chip-list #chipListCat>
                                                <mat-chip *ngFor="let item of selectedCategory;let indx=index;"
                                                    [selectable]="selectable" [removable]="removable"
                                                    (removed)="removeCategory(item,indx)">
                                                    {{item.name}}
                                                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                                                </mat-chip>
                                                <input #categoryInput formControlName="categoryCtrl"
                                                    [matAutocomplete]="autoCat" [matChipInputFor]="chipListCat"
                                                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                    [matChipInputAddOnBlur]="addOnBlur"
                                                    (matChipInputTokenEnd)="addCategory($event)">
                                            </mat-chip-list>
                                            <mat-autocomplete #autoCat="matAutocomplete"
                                                (optionSelected)="selectedCat($event)">
                                                <mat-option *ngFor="let item of filteredCategories | async"
                                                    [value]="item">
                                                    {{item.name}}
                                                </mat-option>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-2 pl-sm-2">

                                        <mat-form-field appearance="outline">
                                            <mat-select formControlName="additional_category">
                                                <mat-option>
                                                    <a>Créer une nouvelle annexe</a>
                                                </mat-option>
                                                <mat-option *ngFor="let addCat of additionalCategoryList"
                                                    [value]="addCat">
                                                    Choix {{addCat.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>

                                    <div class="col-sm-2 pl-sm-2" >
                                        <div class="annexe py-2">
                                            <div class="pl-2">
                                                <p>Choix</p>
                                            </div>
                                            <div class="d-flex justify-content-start">
                                                <div class="p-2">
                                                    <mat-checkbox class="example-margin"></mat-checkbox>
                                                </div>
                                                <div class="p-2">
                                                    <p>Frites Belge</p>
                                                </div>
                                                <div class="w-25">
                                                    <input type="text" class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="close_prod">
                                            <a (click)="isShown = !isShown">
                                                <svg width="25" height="25" viewBox="0 0 25 25" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <rect width="25" height="25" rx="4" transform="matrix(-1 0 0 1 25 0)"
                                                    fill="#ED3024" />
                                                <path d="M16 10L10 16M10 10L16 16" stroke="white" stroke-width="1.5"
                                                    stroke-linecap="round" stroke-linejoin="round" />
                                            </svg>
                                            </a>
                                      
                                        </div>
                                    </div>



                                </div>

                                <div class="row">
                                    <div class="pl-3 mb-3 d-block">
                                        <mat-slide-toggle formControlName="display">Afficher dans le menu</mat-slide-toggle>
                                    </div>
                                </div>

                                <div class="row pl-4 py-4">
                                    <button class="btn-submit" type="submit"> Ajouter </button>
                                </div>



                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>
</ng-container>